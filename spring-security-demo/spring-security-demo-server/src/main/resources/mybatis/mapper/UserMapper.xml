<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.skypyb.user.dao.UserDao">

    <sql id="userPo_all_column">
        us.user_id AS userId,
        us.user_name AS userName,
        us.password AS password,
        us.create_time AS createTime,
        us.last_login_time AS lastLoginTime,
        us.state AS state
    </sql>

    <select id="findUserByUserName" resultType="com.skypyb.user.model.po.UserPO">
        SELECT
        <include refid="userPo_all_column"/>
        FROM securitydemo.tb_user us
        WHERE us.user_name=#{userName}
    </select>

    <select id="findUserByUserId" resultType="com.skypyb.user.model.po.UserPO">
        SELECT
        <include refid="userPo_all_column"/>
        FROM securitydemo.tb_user us
        WHERE us.user_id=#{userId}
    </select>

    <select id="findMinimumUser" resultType="com.skypyb.user.model.dto.MinimumUserDTO">
        SELECT
            us.user_id AS userId,
            us.user_name AS userName,
            us.password AS password
        FROM securitydemo.tb_user us
        WHERE us.user_name=#{userName}
    </select>


</mapper>